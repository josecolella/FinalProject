<div id="dropzone">
<!-- IMPORTANT enctype attribute! -->
<form  class="dropzone"  action="#" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {#        {{ form }}#}
</form>
<p>{{ form.non_field_errors }}</p>
<p>{{ form.docfile.label_tag }} {{ form.docfile.help_text }}</p>
<p>
    {{ form.docfile.errors }}
    {{ form.docfile }}
</p>
</div>
{% block javascript %}
    {% load staticfiles %}

    <script src="{% static "visualization/dropzone-3.8.4/dropzone.min.js" %}"></script>
    <script type="text/javascript">
    Dropzone.options.myDropzone = {

        // Prevents Dropzone from uploading dropped files immediately
        autoProcessQueue : false,

        init : function() {
            var submitButton = document.querySelector("#submit-all")
            myDropzone = this;

            submitButton.addEventListener("click", function() {
                myDropzone.processQueue();
                // Tell Dropzone to process all queued files.
            });

            // You might want to show the submit button only when
            // files are dropped here:
            this.on("addedfile", function() {
                // Show submit button here and/or inform user to click it.
            });

        }
    };
</script>

{% endblock javascript %}

